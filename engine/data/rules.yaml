# This file contains all rules used by Onset to evolve words. They are present in
# the following format:
#
# - name (obligatory): nameofrule
# - description (optional): a description of the rule
# - before (optional): the features present in the preceding segment
#     positive: list of positive features
#     negative: list of negative features
# - after (optional): the features present in the succeeding segment
#     positive: list of positive features
#     negative: list of negative features
# - conditions (optional): the features present in the changed segment
#     positive: list of positive features
#     negative: list of negative features
# - applies (obligatory): the features to apply to the changed segment
#     positive: list of positive features
#     negative: list of negative features

---
##############################################################################
## CONSONANTS
##############################################################################
- name: Palatalization
  description: Plosives become palatalized after high vowels.
  before:
    positive:
      - syllabic
      - high
      - front
  conditions:
    negative:
      - syllabic
      - continuant
      - delayedrelease
      - sonorant
  applies:
    positive:
      - dorsal
      - high
      - front
    negative:
      - low
      - back

- name: Consonant Apheresis
  description: Consonants are lost at the beginning of words.
  first: true
  conditions:
    positive:
      - consonantal
  applies:
    positive:
      - deletion

- name: Velarization
  description: Liquids are velarized after back vowels.
  before:
    positive:
      - syllabic
      - back
  conditions:
    positive:
      - consonantal
      - approximant
      - sonorant
    negative:
      - dorsal
  applies:
    positive:
      - dorsal
      - high
      - back
    negative:
      - low
      - front

- name: Labialization
  description: Plosives are labialized after rounded vowels.
  before:
    positive:
      - syllabic
      - round
  conditions:
    negative:
      - syllabic
      - continuant
      - delayedrelease
      - sonorant
      - round
  applies:
    positive:
      - labial
      - round

- name: Dentalization
  description: Alveolar consonants become dentalized before dentalized fricatives.
  conditions:
    positive:
      - anterior
      - consonantal
      - coronal
    negative:
      - distributed
  after:
    positive:
      - coronal
      - anterior
      - distributed
      - continuant
      - delayedrelease
  applies:
    positive:
      - distributed

##############################################################################
## CONSONANTS - LENITION
##############################################################################
- name: Flapping
  description: Alveolar plosives become flapped between vowels.
  conditions:
    positive:
      - anterior
      - consonantal
      - coronal
    negative:
      - distributed
      - continuant
      - delayedrelease
      - sonorant
  applies:
    positive:
      - tap
      - sonorant
      - continuant
      - approximant
  before:
    positive:
      - syllabic
  after:
    positive:
      - syllabic

- name: Nasalization
  description: Vowels become nasalized after nasal consonants.
  conditions:
    positive:
      - syllabic
    negative:
      - nasal
  before:
    positive:
      - nasal
  applies:
    positive:
      - nasal
